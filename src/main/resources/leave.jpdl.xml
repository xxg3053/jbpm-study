<?xml version="1.0" encoding="UTF-8"?>

<process name="leave" xmlns="http://jbpm.org/4.4/jpdl">
   <start g="177,35,48,48" name="start1">
      <transition g="-43,-20" name="to 申请" to="申请"/>
   </start>
   <end g="181,469,48,48" name="end1"/>
   <task assignee="#{owner}" form="/leave/request" g="153,129,92,52" name="申请">
      <transition g="-67,-20" name="to 经理审批" to="经理审批"/>
   </task>
   <task assignee="manager" form="/leave/manager" g="152,239,92,52" name="经理审批">
      <transition g="-72,-20" name="to exclusive1" to="exclusive1"/>
      <transition g="299,260;297,156:7,-15" name="驳回" to="申请"/>
   </task>
   <task assignee="boss" form="/leave/boss" g="312,404,92,52" name="老板审批">
      <transition g="349,495:-45,-20" name="to end1" to="end1"/>
   </task>
   <decision expr="#{day > 3 ? 'to 老板审批' : 'to end1'}" g="178,340,48,48" name="exclusive1">
      <transition g="-45,-20" name="to end1" to="end1"/>
      <transition g="351,363:-29,-29" name="to 老板审批" to="老板审批"/>
   </decision>
</process>